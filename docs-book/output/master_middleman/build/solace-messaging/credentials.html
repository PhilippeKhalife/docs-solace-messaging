<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400italic,400,600' rel='stylesheet' type='text/css'>
  <!-- Use title if it's in the page YAML frontmatter -->
  <title>
      Understanding Solace Messaging Credentials |
    
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/stylesheets/all.css" rel="stylesheet" media="screen, print" />
  <link href="/stylesheets/print.css" rel="stylesheet" media="print" />
  <link href='/images/favicon.ico' rel='shortcut icon'>

  <script src="/javascripts/all.js"></script>
  <script>
//Global Google Search
(function() {
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + '';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
})();
</script>

<script type="text/javascript">
  if (window.location.host === 'hello') {
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', '']);
    _gaq.push(['_setDomainName', '']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script');
      ga.type = 'text/javascript';
      ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(ga, s);
    })();
  }
</script>

<script type="text/javascript">
  var blackList = ['acceptance'];

  blackList.forEach(function(blackListedEnv) {
    if (document.URL.indexOf(blackListedEnv) > -1 && blackListedEnv != "") {
      $('head').append('<meta name="hashtag" content="PivotalMoment">');
    }
  });
</script>

<!-- CrazyEgg Tracking Script -->
<script type="text/javascript">
  setTimeout(function() {
    var a = document.createElement("script");
    var b = document.getElementsByTagName("script")[0];
    a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0020/8294.js?" + Math.floor(new Date().getTime() / 3600000);
    a.async = true;
    a.type = "text/javascript";
    b.parentNode.insertBefore(a, b)
  }, 1);
</script>

<script type="text/javascript">
  (function() {
    var didInit = false;

    function initMunchkin() {
      if (didInit === false) {
        didInit = true;
        Munchkin.init('625-IUJ-009');
      }
    }

    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.async = true;
    s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
    s.onreadystatechange = function() {
      if (this.readyState == 'complete' || this.readyState == 'loaded') {
        initMunchkin();
      }
    };
    s.onload = initMunchkin;
    document.getElementsByTagName('head')[0].appendChild(s);
  })();
</script>

</head>

<body class="solace-messaging solace-messaging_credentials has-subnav">

<div class="viewport">
  <div class='wrap'>
    <script type="text/javascript">
      document.domain = "";
    </script>

       
    <header class="header header-layout">
      <h1 class="logo">
        <a href="/">Default Book Title</a>
      </h1>
      
      <div class="header-links js-bar-links">
        <div class="btn-menu" data-behavior="MenuMobile"></div>
        
        <div class="header-item">
          
        </div>
        <!--Default search-->
<!--If book needs something different, add a book-search partial to the book's layouts folder-->
<div class="header-item searchbar js-searchbar">
  <a class="search-icon" data-behavior="Search"></a>
  <div class="search-input">
    <div class="search-input-inner" id="docs-search">
        <gcse:searchbox></gcse:searchbox>
    </div>
  </div>
</div>

      </div>
    </header>



    <div class="container">

      <!--googleoff: index-->
      <div id="sub-nav" class="deepnav-content js-deep-nav js-sidenav nav-container" role="navigation">
  <a class="sidenav-title" data-behavior="SubMenuMobile">
    Doc Index
  </a>
  <div class="nav-content">
    <ul class="menu">
      <li>
        <span class="topic">
          <a id='home-nav-link' href="/solace-messaging/index.html">Solace Messaging for PCF Overview</a>
        </span>
      </li>
      <li>
          <span><a href="/solace-messaging/installing.html">Tile Installation and Configuration</a></span>
      </li>
      <li>
          <span><a href="/solace-messaging/service-instances.html">Service Instances and Bindings</a></span>
      </li>
      <li>
          <span><a href="/solace-messaging/credentials.html">Solace Messaging Credentials</a></span>
      </li>
      <li>
          <span><a href="/solace-messaging/managing.html">Message VPN Management</a></span>
      </li>
      <li>
          <span><a href="/solace-messaging/release-notes.html">Release Notes</a></span>
      </li>

     </ul>
    </div>
</div>
      <!--googleon: index-->

      <main class="content content-layout" id="js-content" role="main">
        <a id="top"></a>
        
          <h1 class="title-container" >
    Understanding Solace Messaging Credentials
  </h1>

          <div id="js-quick-links" >
            <div class="quick-links"><ul>
<li><a href="#example">Example Environment Variable</a></li>
<li>
<a href="#fields">Credentials Fields</a><ul>
<li><a href="#msg-protocols">Messaging Protocols</a></li>
<li><a href="#mgmt-protocols">Management Protocol</a></li>
<li><a href="#users">Usernames and Passwords</a></li>
</ul>
</li>
</ul></div>
          </div>
        <div class="to-top" id="js-to-top">
          <a href="#top" title="back to top"></a>
        </div>
        <p>This topic describes the credentials that an application bound to a Solace Messaging service instance gains access to. These credentials are stored in the <code>VCAP_SERVICES</code> environment variable. For examples of different ways that developers can configure their applications to consume the credentials, see the sample application <a href="https://github.com/SolaceSamples/solace-samples-cloudfoundry-java">GitHub repository</a>.</p>

<h2><a id='example'></a> Example Environment Variable</h2>

<p>The <code>VCAP_SERVICES</code> environment variable is a JSON document, and follows the format of the example below:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"VCAP_SERVICES"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"solace-messaging"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"solmessaging-shared-instance"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"solace-messaging"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shared"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"solace"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rest"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"mqtt"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"mq"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"queue"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"event-streaming"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"amqp"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"jms"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"messaging"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"publish-subscribe"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"message-queuing"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"request-reply"</span><span class="p">],</span><span class="w">
        </span><span class="nt">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"clientUsername"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v005.cu000001"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"clientPassword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bb90fcb0-6c83-4a10-bafa-3ec225bbfc08"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"msgVpnName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v005"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"jmsJndiTlsUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"smfs://192.168.132.14:7001"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"jmsJndiUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"smf://192.168.132.14:7000"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"managementHttpUris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http://192.168.132.14:8080/SEMP/v2"</span><span class="p">],</span><span class="w">
          </span><span class="nt">"managementHttpsUris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"https://192.168.132.14:443/SEMP/v2"</span><span class="p">],</span><span class="w">
          </span><span class="nt">"managementPassword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e4997de2-167b-401f-affd-3721e76ff88a"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"managementUsername"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v005-mgmt"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mqttTlsUris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"ssl://192.168.132.14:7027"</span><span class="p">],</span><span class="w">
          </span><span class="nt">"mqttUris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"tcp://192.168.132.14:7026"</span><span class="p">],</span><span class="w">
          </span><span class="nt">"mqttWsUris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"ws://192.168.132.14:7028"</span><span class="p">],</span><span class="w">
          </span><span class="nt">"mqttWssUris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"wss://192.168.132.14:7029"</span><span class="p">],</span><span class="w">
          </span><span class="nt">"restUris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http://192.168.132.14:7024"</span><span class="p">],</span><span class="w">
          </span><span class="nt">"restTlsUris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"https://192.168.132.14:7025"</span><span class="p">],</span><span class="w">
          </span><span class="nt">"smfTlsHost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcps://192.168.132.14:7001"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"smfHost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://192.168.132.14:7000"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"smfZipHost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://192.168.132.14:7002"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"webMessagingTlsUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://192.168.132.14:7005"</span><span class="w">
          </span><span class="s2">"webMessagingUri"</span><span class="err">:</span><span class="w"> </span><span class="s2">"http://192.168.132.14:7004"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>If the environment variable <code>VCAP_SERVICES</code> contains more than one service binding, you must search for the Solace Messaging service instance. You can search for the service instance statically by looking up a pre-defined <code>name</code>
attribute or dynamically through the <code>tags</code> or <code>label</code> properties. See the
Solace <a href="https://github.com/SolaceSamples/solace-samples-cloudfoundry-java">sample application</a> for more information about achieving this.</p>

<h2><a id='fields'></a> Credentials Fields</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Applies to messaging protocol</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>clientUsername</code></td>
<td>All except management (SEMP)</td>
<td>The client username used to access the messaging services</td>
</tr>
<tr>
<td><code>clientPassword</code></td>
<td>All except management (SEMP)</td>
<td>The client password used to access the messaging services</td>
</tr>
<tr>
<td><code>msgVpnName</code></td>
<td>JMS, SMF, and webMessaging</td>
<td>The name of the VPN allocated to the application</td>
</tr>
<tr>
<td><code>jmsJndiUri</code></td>
<td>JMS</td>
<td>The JNDI provider URL: <code>InitialContext.PROVIDER_URL</code></td>
</tr>
<tr>
<td><code>jmsJndiTlsUri</code></td>
<td>JMS</td>
<td>The JNDI provider URL: <code>InitialContext.PROVIDER_URL</code></td>
</tr>
<tr>
<td><code>mqttUris</code></td>
<td>MQTT</td>
<td>The MQTT service URIs</td>
</tr>
<tr>
<td><code>mqttTlsUris</code></td>
<td>MQTT</td>
<td>The MQTT service TLS URIs</td>
</tr>
<tr>
<td><code>mqttWsUris</code></td>
<td>MQTT</td>
<td>The MQTT WebSocket URIs</td>
</tr>
<tr>
<td><code>mqttWssUris</code></td>
<td>MQTT</td>
<td>The MQTT WebSocket TLS URIs</td>
</tr>
<tr>
<td><code>restUris</code></td>
<td>REST</td>
<td>The REST endpoints base URIs</td>
</tr>
<tr>
<td><code>restTlsUris</code></td>
<td>REST</td>
<td>The REST TLS endpoints base URIs</td>
</tr>
<tr>
<td><code>smfHost</code></td>
<td>SMF</td>
<td>The SMF HOST Session Property</td>
</tr>
<tr>
<td><code>smfTlsHost</code></td>
<td>SMF</td>
<td>The SMF TLS HOST Session Property</td>
</tr>
<tr>
<td><code>smfZipHost</code></td>
<td>SMF</td>
<td>The compressed SMF HOST Session Property</td>
</tr>
<tr>
<td><code>webMessagingUri</code></td>
<td>Web Messaging</td>
<td>The URL used to connect the session (solclientjs and solclientas), or the HOST Session Property (CCSMP, .NET API, and JAVA RTO)</td>
</tr>
<tr>
<td><code>webMessagingTlsUri</code></td>
<td>Web Messaging</td>
<td>The HTTPS URL used to connect the session (solclientjs and solclientas), or the HOST Session Property (CCSMP, .NET API, and JAVA RTO)</td>
</tr>
<tr>
<td><code>managementHttpUris</code></td>
<td>Management (SEMP)</td>
<td>The HTTP URIs to connect to the management service</td>
</tr>
<tr>
<td><code>managementHttpsUris</code></td>
<td>Management (SEMP)</td>
<td>The HTTPS URIs to connect to the management service</td>
</tr>
<tr>
<td><code>managementPassword</code></td>
<td>Management (SEMP)</td>
<td>The VPN&rsquo;s administrative username</td>
</tr>
<tr>
<td><code>managementUsername</code></td>
<td>Management (SEMP)</td>
<td>The VPN&rsquo;s administrative password</td>
</tr>
</tbody></table>

<h3><a id='msg-protocols'></a>Messaging Protocols</h3>

<p>The table above matches each field to the messaging protocol it uses. The Solace Messaging service supports the following messaging protocols:</p>

<ul>
<li>Java Messaging Service (JMS): See the <a href="http://www.oracle.com/technetwork/java/index-jsp-142945.html">Oracle documentation</a> for more information. </li>
<li>MQTT: See the <a href="http://mqtt.org/documentation">MQTT documentation</a> for more information. </li>
<li>Solace Message Format (SMF): See the <a href="http://docs.solace.com/Solace-Messaging-APIs/Enterprise-APIs-Overview.htm">Solace Messaging API documentation</a> for more information.</li>
<li>Web Messaging: See the <a href="http://docs.solace.com/Features/Web-Messaging-Concepts/Web-Messaging-Intro-js.htm">Solace Web Messaging Concepts documentation</a> for more information.</li>
<li>REST: See the <a href="http://docs.solace.com/Open-APIs-Protocols/REST-home.htm">Solace REST Messaging documentation</a> for more information.</li>
</ul>

<p class="note"><strong>Note</strong>: The application needs to provide the Message VPN when using the <code>SMF</code>, <code>JMS</code>, or <code>Web Messaging</code> protocols. As a result, the application needs to read the <code>msgVpnName</code> fields when using those protocols.</p>

<p>Each protocol can have multiple possible underlying transports. The field&rsquo;s prefix specifies the protocol, while the infix specifies the transport underlying the protocol. For example, <code>&quot;mqttUris&quot;: [&quot;tcp://192.168.132.14:7026&quot;]</code> specifies the MQTT protocol over TCP.</p>

<p>The application only needs one <code>Host</code> or <code>Uris</code> field to connect to the Message VPN, but which one it needs depends on the required protocol and transport combination.</p>

<p>The following list provides the available infixes:</p>

<ul>
<li><code>Tls</code>: TLS-encrypted</li>
<li><code>Ws</code>: WebSocket</li>
<li><code>Wss</code>: TLS-encrypted WebSocket</li>
<li><code>Http</code>: Plain-text HTTP</li>
<li><code>Https</code>: TLS HTTP</li>
<li><code>Zip</code>: Compressed SMF (SMF with compression enabled)</li>
</ul>

<p>For example, an application uses JMS plain text must read the following fields:</p>

<ul>
<li><code>clientUsername</code></li>
<li><code>clientPassword</code></li>
<li><code>msgVpnName</code></li>
<li><code>jmsJndiUri</code></li>
</ul>

<h3><a id='mgmt-protocols'></a>Management Protocol</h3>

<p>The Solace Messaging service supports the Solace Elements Management Protocol (SEMP) as its management protocol. To use SEMP, an application must read the following fields:</p>

<ul>
<li><code>managementUsername</code></li>
<li><code>managementPassword</code></li>
<li>Either <code>managementHttpUris</code> or <code>managementHttpsUris</code></li>
</ul>

<h3><a id='users'></a>Usernames and Passwords</h3>

<ul>
<li>The credentials required by the various messaging protocols are provided by <code>clientUsername</code> and <code>clientPassword</code>.</li>
<li>The credentials required to manage the Message VPN are provided by <code>managementUsername</code> and <code>managementPassword</code>. For more information, see the <a href="/solace-messaging/managing.html">Managing the Message VPN</a> topic.</li>
</ul>

          <gcse:searchresults></gcse:searchresults>
<a id='repo-link' href='http://github.com/docs-content/tree/staging/credentials.html.md.erb'>View the source for this page in GitHub</a>

      </main>
    </div>
  </div>
</div>

<div id="scrim"></div>

<div class="container">
  <footer class="site-footer-links">
    <div class="copyright">
  <a href='http://pivotal.io/privacy-policy'>Privacy Policy</a> | 
  <a href='http://pivotal.io/terms-of-use'>Terms of Use</a><br/>
  <a href='/'>Pivotal Documentation</a>
  &copy; 2016 <a href='http://pivotal.io'>Pivotal Software</a>, Inc. All Rights Reserved.
</div>
<div class="support">
  Need help? <a href="" target="_blank">Visit Support</a>
</div>

  </footer>
</div><!--end of container-->

</body>
</html>
